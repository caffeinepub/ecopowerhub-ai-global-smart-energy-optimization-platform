{
  "kind": "build_request",
  "title": "Fix broken image asset paths and broken internal navigation links",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-18",
      "text": "Fix the marketing logo image so it loads reliably in both the MarketingHeader and MarketingFooter by serving it from the same runtime directory used for other generated assets (`/generated/...`) and ensuring the corresponding PNG exists under `frontend/public/generated/` and is copied into `frontend/dist/generated/` at build time.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-3"
        ],
        "quotes": [
          "the images were not added correctly"
        ]
      },
      "acceptanceCriteria": [
        "The logo image in the marketing header renders (no broken image icon) on first load and after refresh.",
        "The logo image in the marketing footer renders (no broken image icon) on first load and after refresh.",
        "A direct request to `/generated/energyoptim-ai-logo-transparent.dim_200x200.png` returns HTTP 200 with `Content-Type: image/png` (not HTML).",
        "`frontend/public/generated/energyoptim-ai-logo-transparent.dim_200x200.png` exists in the repository and appears in the production build output at `frontend/dist/generated/energyoptim-ai-logo-transparent.dim_200x200.png`."
      ]
    },
    {
      "id": "REQ-19",
      "text": "Fix broken internal navigation links in the marketing header/footer so every internal link points to a route that exists in `frontend/src/App.tsx` (e.g., update any mismatched paths like `/marketplace` and `/privacy` to the correct routed paths).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "the links are broken"
        ]
      },
      "acceptanceCriteria": [
        "Clicking “Partner Marketplace” from the marketing header navigates to a working page (no 404/blank page) and the URL matches an existing app route.",
        "Clicking “Privacy” from the marketing footer navigates to a working page (no 404/blank page) and the URL matches an existing app route.",
        "All internal `href` routes in `frontend/src/components/MarketingHeader.tsx` and `frontend/src/components/MarketingFooter.tsx` correspond to a route declared in `frontend/src/App.tsx` (or a deliberate in-page anchor)."
      ]
    },
    {
      "id": "REQ-20",
      "text": "Add build-time verification for all generated PNGs referenced by the marketing header/footer (including `energyoptim-ai-logo-transparent.dim_200x200.png`) so the build fails with a clear English error if any referenced generated image file is missing or has incorrect dimensions.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-3"
        ],
        "quotes": [
          "the images were not added correctly"
        ]
      },
      "acceptanceCriteria": [
        "If `frontend/public/generated/energyoptim-ai-logo-transparent.dim_200x200.png` is missing, the build verification step fails with a clear message naming the missing file and expected location.",
        "If `energyoptim-ai-logo-transparent.dim_200x200.png` exists but does not match 200×200 pixels, the build verification step fails with a clear message naming the file and expected dimensions.",
        "When all required generated images exist with correct dimensions, the build verification step passes."
      ]
    },
    {
      "id": "REQ-21",
      "text": "Audit other prominent internal navigation links in marketing-facing pages (at minimum: LandingPage primary CTAs and device guide buttons) and ensure all internal links resolve to existing routes declared in `frontend/src/App.tsx` with no broken navigation in the deployed build.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "the links are broken"
        ]
      },
      "acceptanceCriteria": [
        "From the landing page, the “Start Your Free Energy Audit” CTA navigates successfully to the login route.",
        "From the landing page, “View Guide” buttons navigate successfully to the integration guides route.",
        "No internal navigation link on the landing page results in a 404, blank screen, or route mismatch in the deployed build."
      ]
    }
  ],
  "constraints": [
    "Do not modify any files under `frontend/src/components/ui` or other paths listed in `frontend.immutablePaths`.",
    "Keep all backend logic within the single Motoko actor (`backend/main.mo`); do not introduce additional backend services."
  ],
  "nonGoals": [
    "Do not add new product features beyond fixing broken image assets and broken internal navigation.",
    "Do not introduce third-party auth providers or external storage/services for assets."
  ],
  "imageRequirements": {
    "required": [
      "Square transparent logo image (energyoptim-ai-logo-transparent.dim_200x200.png)"
    ],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}