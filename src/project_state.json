{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 19,
  "summary": "EcoPowerHub AI: Draft build renders, but live/preview still has issues—images were not added/restored correctly (static assets missing or wrong path) and multiple links are broken, alongside the existing black-screen behavior on some routes. Root causes still point to static asset placement/path mismatches and deployment/build verification gaps causing missing images and potentially broken bundles/routes.",
  "architectural_notes": [
    "Static image assets must live in frontend/public/generated so Vite includes them and ICP asset canister serves them at /generated/*.",
    "Ensure .ic-assets.json5 is packaged with frontend/dist and includes correct MIME/cache headers for PNG/SVG/JPG and other static assets.",
    "All static assets must use exact, case-sensitive filenames as referenced by the frontend; do not rename or adjust casing when adding to frontend/public/generated.",
    "Ensure the build/deploy pipeline hard-fails if required static assets (including frontend/public/generated/*) are missing so Vite/ICP deployments cannot succeed with an empty dist/generated.",
    "Verify ICP asset canister serves JS/CSS bundles with correct MIME types and does not fall back to HTML for missing bundle paths, as this prevents React from mounting and can make routes appear blank.",
    "Do not place restored PNGs under `frontend/public/assets/generated/`; the app expects static images under `frontend/public/generated/` so Vite includes them and ICP serves them at `/generated/*`.",
    "Build/prune tooling must use the correct Vite output path (`frontend/dist/assets/`), not `src/frontend/dist/assets/`, to avoid skipping pruning/verification due to missing directories.",
    "Draft vs live discrepancies indicate the live demo may be serving an older deployed asset canister version; ensure the deployment step updates the live canister with the latest `frontend/dist` contents."
  ],
  "known_issues": [
    "Production site renders only minimal static text; expected React UI and visuals are missing due to absent generated PNG assets (and possibly React not mounting).",
    "generated/ PNG asset set is missing from the project download/build output, causing 404s and fallback background in hero.",
    "Device Integration Guides: device logo images are not showing reliably and appear to flicker when rendering the setup guide cards.",
    "Draft/prod environment appears to be missing JS/CSS bundles (or serving HTML fallback for missing bundle paths), leading to React not mounting and pages (e.g., /support) rendering blank/minimal static text.",
    "Partner Integration page is not currently restored/working as expected; needs to be brought back in the production build.",
    "Live demo shows a black screen while draft build is OK, indicating a production deployment/version mismatch (live not updated to latest build).",
    "Logos/PNG assets were confirmed missing due to being restored/checked in the wrong directory (`frontend/public/assets/generated/` instead of `frontend/public/generated/`).",
    "Prune script skipped because it looked for `src/frontend/dist/assets/` but Vite outputs to `frontend/dist/assets/` (path mismatch), allowing bad/missing build outputs to pass silently.",
    "Links are broken in the current preview/live build (navigation targets not resolving correctly)."
  ],
  "isFixRequest": true,
  "imageRequirements": "## Required Images\n- Square transparent logo image (energyoptim-ai-logo-transparent.dim_200x200.png)",
  "existing_features": [
    {
      "id": "feature-ensure-the-landing-page-hero-section-background-asset-referenced-at-generated-hero-background-globe-dim-1920x1080-png-is-present-and-renders-as-the-full-screen-hero-background-no-missing-image-fallback-background",
      "title": "Ensure the landing page hero section background asset referenced at `/generated/hero-background-globe.dim_1920x1080.png` is present and renders as the full-screen hero background (no missing image/fallback background).",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-verify-and-fix-any-frontend-references-to-the-restored-assets-so-they-consistently-load-from-generated-at-runtime-not-from-missing-paths-without-modifying-any-files-in-frontend-src-components-ui-or-other-immutable-paths",
      "title": "Verify and fix any frontend references to the restored assets so they consistently load from `/generated/...` at runtime (not from missing paths), without modifying any files in `frontend/src/components/ui` or other immutable paths.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-device-integration-guides-page-so-device-logo-images-and-guide-images-render-consistently-no-flicker-no-intermittent-missing-images-across-initial-load-scrolling-and-expanding-collapsing-guide-details",
      "title": "Fix the Device Integration Guides page so device logo images and guide images render consistently (no flicker, no intermittent missing images) across initial load, scrolling, and expanding/collapsing guide details.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-every-device-guide-image-path-referenced-by-frontend-src-pages-deviceintegrationguidespage-tsx-exists-as-a-real-static-asset-under-frontend-public-generated-and-is-served-at-runtime-from-generated-with-the-exact-filenames-used-in-code",
      "title": "Ensure every device guide image path referenced by `frontend/src/pages/DeviceIntegrationGuidesPage.tsx` exists as a real static asset under `frontend/public/generated/` and is served at runtime from `/generated/...` with the exact filenames used in code.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-service-worker-caching-behavior-to-avoid-visible-image-flicker-caused-by-repeated-network-first-fetching-for-same-origin-static-images-under-generated-and-any-other-static-image-directories-used-by-the-app",
      "title": "Update the service worker caching behavior to avoid visible image flicker caused by repeated network-first fetching for same-origin static images under `/generated/**` (and any other static image directories used by the app).",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-vite-build-verify-js-to-validate-the-pixel-dimensions-width-height-of-the-required-generated-png-files-in-addition-to-verifying-presence-and-fail-the-script-with-a-clear-english-error-message-if-any-required-file-is-missing-or-has-incorrect-dimensions",
      "title": "Update `frontend/vite-build-verify.js` to validate the pixel dimensions (width×height) of the required generated PNG files in addition to verifying presence, and fail the script with a clear English error message if any required file is missing or has incorrect dimensions.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-restore-the-partner-integration-page-in-production-by-ensuring-the-partner-page-is-reachable-at-a-stable-public-route-and-renders-full-content-header-program-cards-sections-without-blank-minimal-text-fallbacks",
      "title": "Restore the Partner Integration page in production by ensuring the partner page is reachable at a stable public route and renders full content (header, program cards, sections) without blank/minimal-text fallbacks.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-route-alias-for-the-partner-integration-page-so-that-partner-integration-serves-the-same-content-as-the-existing-partner-marketplace-page-partner-marketplace",
      "title": "Add a route alias for the Partner Integration page so that `/partner-integration` serves the same content as the existing Partner Marketplace page (`/partner-marketplace`).",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-all-static-image-assets-referenced-by-the-partner-marketplace-page-load-from-generated-at-runtime-including-the-affiliate-program-logos-with-no-broken-image-icons",
      "title": "Ensure all static image assets referenced by the Partner Marketplace page load from `/generated/...` at runtime, including the affiliate program logos, with no broken image icons.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-public-sitemap-xml-to-include-the-partner-integration-route-https-ecopowerhub-ai-partner-integration-in-addition-to-the-existing-partner-marketplace-entry",
      "title": "Update `frontend/public/sitemap.xml` to include the Partner Integration route (`https://ecopowerhub.ai/partner-integration`) in addition to the existing partner marketplace entry.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-service-worker-pre-cache-list-so-it-only-references-static-assets-that-actually-exist-in-the-deployed-app-using-the-correct-runtime-paths-prefer-generated-for-generated-images-and-ensure-the-service-worker-install-step-cannot-fail-the-entire-install-due-to-a-missing-pre-cached-asset",
      "title": "Fix the service worker pre-cache list so it only references static assets that actually exist in the deployed app, using the correct runtime paths (prefer `/generated/...` for generated images), and ensure the service worker install step cannot fail the entire install due to a missing pre-cached asset.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-prevent-the-service-worker-from-caching-spa-html-fallbacks-e-g-index-html-in-response-to-requests-for-javascript-css-bundles-so-that-missing-bundle-paths-cannot-be-cached-as-html-and-then-served-as-broken-scripts-styles",
      "title": "Prevent the service worker from caching SPA HTML fallbacks (e.g., `index.html`) in response to requests for JavaScript/CSS bundles, so that missing bundle paths cannot be cached as HTML and then served as broken scripts/styles.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-update-any-build-prune-verification-logic-so-it-checks-the-correct-vite-output-path-frontend-dist-assets-and-fails-the-build-pipeline-when-expected-bundles-assets-are-missing-instead-of-silently-skipping-due-to-a-path-mismatch",
      "title": "Update any build/prune/verification logic so it checks the correct Vite output path (`frontend/dist/assets/`) and fails the build pipeline when expected bundles/assets are missing, instead of silently skipping due to a path mismatch.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-retry-the-production-build-and-deployment-using-the-current-repository-state-and-verify-the-live-production-site-is-actually-serving-the-latest-deployed-frontend-bundle-and-generated-static-assets-so-the-react-app-mounts-and-pages-do-not-render-as-a-black-screen",
      "title": "Retry the production build and deployment using the current repository state, and verify the live production site is actually serving the latest deployed frontend bundle and generated static assets (so the React app mounts and pages do not render as a black screen).",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-marketing-logo-image-so-it-loads-reliably-in-both-the-marketingheader-and-marketingfooter-by-serving-it-from-the-same-runtime-directory-used-for-other-generated-assets-generated-and-ensuring-the-corresponding-png-exists-under-frontend-public-generated-and-is-copied-into-frontend-dist-generated-at-build-time",
      "title": "Fix the marketing logo image so it loads reliably in both the MarketingHeader and MarketingFooter by serving it from the same runtime directory used for other generated assets (`/generated/...`) and ensuring the corresponding PNG exists under `frontend/public/generated/` and is copied into `frontend/dist/generated/` at build time.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-broken-internal-navigation-links-in-the-marketing-header-footer-so-every-internal-link-points-to-a-route-that-exists-in-frontend-src-app-tsx-e-g-update-any-mismatched-paths-like-marketplace-and-privacy-to-the-correct-routed-paths",
      "title": "Fix broken internal navigation links in the marketing header/footer so every internal link points to a route that exists in `frontend/src/App.tsx` (e.g., update any mismatched paths like `/marketplace` and `/privacy` to the correct routed paths).",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Regenerate/restore all missing generated PNG visual assets (including hero globe) and place them in frontend/public/generated for correct deployment",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Regenerate and add the full missing PNG asset set into `frontend/public/generated/` using the exact filenames provided by the user, so that the app no longer has broken visuals due to missing static assets.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Fix missing/flickering images (device logos) in the Device Integration Guides section so guide card pictures render consistently without flicker.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Add the following PNG files to `frontend/public/generated/` with the exact filenames (case-sensitive) and pixel dimensions encoded in each filename, so they are served at runtime from `/generated/...` and can be referenced without any filename changes: hero-background-globe.dim_1920x1080.png, interactive-setup-diagram.dim_900x500.png, emporia-vue-220v-tutorial.dim_800x600.png, device-setup-cards.dim_900x500.png, ai-chatbot-interface.dim_600x400.png, global-faq-interface.dim_800x400.png, case-studies-savings-chart.dim_800x500.png, residential-case-study-dashboard.dim_800x600.png, commercial-energy-optimization.dim_800x600.png, industrial-energy-case-study.dim_800x600.png, testimonial-michael-avatar.dim_100x100.png, testimonial-sophie-avatar.dim_100x100.png, scada-benefits-infographic.dim_800x500.png.",
      "reqIds": [
        "REQ-7"
      ],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Ensure JS/CSS bundles and React app mount correctly in production (verify dist contains built assets and canister serves them with correct paths/MIME), to prevent blank/empty routes like /support when bundles are missing.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Regenerate/restore the full set of 13 required PNG image assets and add them to `frontend/public/generated/` using the exact, case-sensitive filenames and pixel dimensions encoded in each filename, so they are copied into the production build and served at runtime from `/generated/...`.",
      "reqIds": [
        "REQ-9"
      ],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Restore the Partner Integration page so it renders correctly in production (content, layout, and any required assets/links)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Fix broken links across the app (routes and in-page links), ensuring all navigation targets resolve correctly in the deployed production build.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Add build-time verification for all generated PNGs referenced by the marketing header/footer (including `energyoptim-ai-logo-transparent.dim_200x200.png`) so the build fails with a clear English error if any referenced generated image file is missing or has incorrect dimensions.",
      "reqIds": [
        "REQ-20"
      ],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Audit other prominent internal navigation links in marketing-facing pages (at minimum: LandingPage primary CTAs and device guide buttons) and ensure all internal links resolve to existing routes declared in `frontend/src/App.tsx` with no broken navigation in the deployed build.",
      "reqIds": [
        "REQ-21"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "EcoPowerHub AI",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}