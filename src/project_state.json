{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "EcoPowerHub frontend (Vite/React) deployed to an ICP asset canister; working on fixing build/routing issues for static hosting.",
  "architectural_notes": [
    "For ICP asset canister static hosting, prefer react-router-dom HashRouter to avoid server-side rewrites (URLs use #).",
    "Vite config may need base: './' to ensure relative asset paths work when served from an ICP canister/subpath."
  ],
  "known_issues": [
    "Vite/Rollup build error: \"default\" is not exported by src/App.tsx, imported by src/main.tsx (likely App component export/import mismatch or duplicate/incorrect file path).",
    "Routing/asset loading may fail on ICP static assets when using BrowserRouter without rewrites; switch to HashRouter and/or adjust Vite base."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-update-the-frontend-routing-to-use-hash-based-urls-e-g-dashboard-so-page-refreshes-and-deep-links-work-on-icp-asset-canisters-without-server-side-rewrites-implement-this-using-the-existing-tanstack-router-setup-not-react-router-dom-configuring-the-router-to-use-hash-history",
      "title": "Update the frontend routing to use hash-based URLs (e.g., /#/dashboard) so page refreshes and deep-links work on ICP asset canisters without server-side rewrites. Implement this using the existing TanStack Router setup (not react-router-dom), configuring the router to use hash history.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-adjust-the-vite-build-configuration-to-use-relative-asset-paths-for-icp-static-hosting-by-setting-vite-base-to-and-keep-production-build-compatibility",
      "title": "Adjust the Vite build configuration to use relative asset paths for ICP static hosting by setting Vite base to './' (and keep production build compatibility).",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-user-visible-top-level-error-fallback-so-unexpected-runtime-errors-during-app-router-rendering-do-not-appear-as-a-blank-white-screen-use-existing-in-repo-fallback-components-where-possible-and-keep-user-facing-text-in-english",
      "title": "Add a user-visible top-level error fallback so unexpected runtime errors during app/router rendering do not appear as a blank white screen. Use existing in-repo fallback components where possible and keep user-facing text in English.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [],
  "projectName": "EcoPowerHub",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}